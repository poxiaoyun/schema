# @title "Instances"
# @title.Zh-cn "实例数"
# @description The number of instances in the cluster.
# @description.Zh-cn 集群中的实例数
# @schema render=slider;minimum=1;maximum=5;step=2
replicas: 1
# @title "CPU"
# @schema render=slider;minimum=1;maximum=8;step=1
# @description The number of CPU limits for each instance.
# @description.Zh-cn 每个实例的 CPU 限制
cpu: "1"
# @title "Memory"
# @title.Zh-cn "内存"
# @schema render=slider;minimum=1;maximum=16;step=1;unit=Gi
memory: 1Gi
# @title "Storage"
# @title.Zh-cn "存储"
# @schema render=slider;minimum=1;maximum=1024;step=1;unit=Gi
storage: 10Gi

# @title "Storage Class"
# @title.Zh-cn "存储类型"
# @x-storage-class-enum resource=storageclasses;apiVersion=storage.k8s.io/v1
storageClassName: ""

# @title "Version"
# @title.Zh-cn "版本"
# @enum 8.0.30
version: "8.0.30"

annotations:
  foo: bar
labels: {}

# Delete: Delete Pods, services, PVCs, and other cluster resources, and delete all persistent data.
# DoNotTerminate: Prohibit deletion operation.
# WipeOut: Delete all cluster resources, including volume snapshots and backups in external storage. Using this policy will delete all data, especially in non-production environments, this policy will result in irreversible data loss. Please use with caution.
#
# @title "Termination Policy"
# @x-enum DoNotTerminate="Delete Protection";Delete="Delete Cluster and Data";WipeOut="‼️ Delete all data include backups"
# @x-enum.Zh-cn DoNotTerminate="删除保护";Delete="删除集群和数据";WipeOut="‼️ 删除所有数据包括备份"
terminationPolicy: Delete

access:
  internal:
    enabled: true
  external:
    enabled: false
    # @enum LoadBalancer,NodePort
    serviceType: NodePort
    # @enum Cluster,Local
    externalTrafficPolicy: Cluster

monitor:
  enabled: true

# @title "Backup"
backup:
  # 开启自动备份
  # @title "Enabled"
  enabled: false
  # @title "Cron Expression"
  # @hidden backup.enabled=false
  # @schema render=crontab
  # UTC 时区, 下面示例是每周一凌晨 2 点
  cron: "0 2 * * 1"
  # @title="Method"
  # @x-enum xtrabackup="Xtrabackup"
  # @hidden backup.enabled=false
  method: xtrabackup
  # 是否开启 PITR(Point-in-Time Recovery)
  # @title PITR
  # @description PITR(Point-in-Time Recovery)
  # @hidden backup.enabled=false
  pitrEnabled: false
  # @title "Retention Period"
  # @hidden backup.enabled=false
  # @schema render=slider;minimum=1;maximum=30;step=1;unit=d
  retentionPeriod: 7d
  # @title "Backup Repo"
  # @hidden backup.enabled=false
  # @x-s3-enum true
  s3:
    # @title "Bucket"
    bucket: ""
    # @title "Endpoint"
    endpoint: ""
    # @title "Access Key"
    accessKey: ""
    # @title "Secret Key"
    secretKey: ""
    # @title "Region"
    region: "us-east-1"
    # @title "Force Path Style"
    forcePathStyle: true
